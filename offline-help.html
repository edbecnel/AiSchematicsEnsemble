<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>AiSchematicsEnsemble — Offline UI Help</title>
    <meta name="description" content="Help for using offline.html on GitHub Pages or locally." />
    <style>
      :root {
        color-scheme: light dark;
        --fg: #111827;
        --muted: #6b7280;
        --bg: #ffffff;
        --card: #f9fafb;
        --border: rgba(0, 0, 0, 0.12);
        --link: #2563eb;
      }
      @media (prefers-color-scheme: dark) {
        :root {
          --fg: #e5e7eb;
          --muted: #9ca3af;
          --bg: #0b1020;
          --card: #0f172a;
          --border: rgba(255, 255, 255, 0.16);
          --link: #60a5fa;
        }
      }
      body {
        margin: 0;
        font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
        color: var(--fg);
        background: var(--bg);
      }
      header {
        padding: 18px;
        border-bottom: 1px solid var(--border);
        background: linear-gradient(
            180deg,
            rgba(96, 165, 250, 0.14),
            transparent 55%
          )
          , var(--bg);
      }
      main {
        max-width: 980px;
        margin: 0 auto;
        padding: 18px;
      }
      .card {
        border: 1px solid var(--border);
        border-radius: 14px;
        padding: 16px;
        background: var(--card);
      }
      h1 {
        margin: 0 0 6px;
        letter-spacing: -0.02em;
      }
      h2 {
        margin: 18px 0 10px;
      }
      p {
        margin: 10px 0;
        line-height: 1.55;
        color: var(--muted);
      }
      ul {
        margin: 10px 0 10px 18px;
        color: var(--muted);
        line-height: 1.55;
      }
      li { margin: 6px 0; }
      a { color: var(--link); }
      code {
        font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
        font-size: 0.95em;
      }
      .row {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        margin-top: 12px;
      }
      .btn {
        display: inline-block;
        padding: 10px 12px;
        border: 1px solid var(--border);
        border-radius: 10px;
        text-decoration: none;
        color: var(--fg);
        background: transparent;
      }
      .pill {
        display: inline-block;
        padding: 2px 8px;
        border: 1px solid var(--border);
        border-radius: 999px;
        font-size: 12px;
        color: var(--muted);
      }
      .note {
        margin-top: 10px;
        padding: 10px 12px;
        border-radius: 12px;
        border: 1px solid var(--border);
        background: rgba(127, 127, 127, 0.08);
        color: var(--muted);
      }
    </style>
  </head>
  <body>
    <header>
      <div style="max-width: 980px; margin: 0 auto;">
        <div class="pill">offline-help.html</div>
        <h1>AiSchematicsEnsemble — Offline UI Help</h1>
        <p>
          This page explains how to use <code>offline.html</code> when hosted on GitHub Pages (online) or when opened directly on your computer.
        </p>
        <div class="row">
          <a class="btn" href="index.html">Home (index.html)</a>
          <a class="btn" href="offline.html">Open app (offline.html)</a>
          <a class="btn" href="help.html">Full help (help.html)</a>
          <a class="btn" href="README.md">README</a>
        </div>
      </div>
    </header>

    <main>
      <div class="card">
        <h2>What offline.html does</h2>
        <ul>
          <li>Builds a config JSON and command lines for running the Node CLI on your machine.</li>
          <li>It does <strong>not</strong> execute the circuit run itself in the browser.</li>
          <li>It can store your settings and API keys in browser storage (localStorage) on your device.</li>
        </ul>

        <h2>Using it on GitHub Pages (online)</h2>
        <ul>
          <li>Open the site: <code>https://edbecnel.github.io/AiSchematicsEnsemble/</code></li>
          <li>Click <code>Run app (offline.html)</code> or open <code>/offline.html</code> directly.</li>
          <li>Fill in question / netlist paths (you’ll often paste paths manually; browsers don’t expose real file paths).</li>
          <li>Copy the generated command and run it locally inside your project folder.</li>
        </ul>

        <h2>API keys (.env) on the client machine</h2>
        <p>
          GitHub Pages cannot read a server-side <code>.env</code>. Instead, the Offline UI lets you load keys from a local file.
        </p>
        <ul>
          <li>In <code>offline.html</code>, click <code>API Keys…</code> (or any <code>Keys</code> button next to a model).</li>
          <li>Click <code>Browse… .env</code> and select your local <code>.env</code> file.</li>
          <li>Optionally click <code>Save to browser</code> to persist keys on this device/browser.</li>
        </ul>
        <div class="note">
          Security note: keys never leave your browser unless you paste them somewhere else. Still, treat your browser profile as sensitive and avoid using shared computers.
        </div>

        <h2>Opening offline.html directly (file://)</h2>
        <ul>
          <li>You can download <code>offline.html</code> and open it locally.</li>
          <li>File pickers will show filenames, but browsers typically won’t reveal full local paths. You may need to paste real paths.</li>
          <li>Browser storage can be blocked in some privacy modes; if so, keys/config cannot be saved.</li>
        </ul>

        <h2>Recommended: run the local UI server (best experience)</h2>
        <p>
          When you run the project’s UI server locally, uploads work and the UI can read your project <code>.env</code> via an API endpoint.
        </p>
        <ul>
          <li>Install + build: <code>npm install</code>, then <code>npm run build</code></li>
          <li>Start UI: <code>npm run ui</code> (or <code>npm run dev:ui</code>)</li>
          <li>Then open the local URL it prints (default <code>http://127.0.0.1:3210</code>)</li>
        </ul>
      </div>
    </main>
  </body>
</html>
